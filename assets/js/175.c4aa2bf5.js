(window.webpackJsonp=window.webpackJsonp||[]).push([[175],{644:function(t,a,s){"use strict";s.r(a);var e=s(14),r=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"简介"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#简介"}},[t._v("#")]),t._v(" 简介")]),t._v(" "),s("p",[t._v("本项目为云开发·头像合成小程序，可以用于在小程序端生成包含不同边框的头像。")]),t._v(" "),s("h2",{attrs:{id:"需求"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#需求"}},[t._v("#")]),t._v(" 需求")]),t._v(" "),s("ol",[s("li",[t._v("开通了小程序云开发的小程序。")]),t._v(" "),s("li",[t._v("腾讯云账号")])]),t._v(" "),s("h2",{attrs:{id:"具体使用说明"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#具体使用说明"}},[t._v("#")]),t._v(" 具体使用说明")]),t._v(" "),s("h3",{attrs:{id:"_1-clone-本项目到本地并导入"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-clone-本项目到本地并导入"}},[t._v("#")]),t._v(" 1. Clone 本项目到本地并导入")]),t._v(" "),s("p",[t._v("将本项目 clone 到本地，并使用你自己的小程序账号导入项目。")]),t._v(" "),s("h3",{attrs:{id:"_2-创建数据万象-bucket"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-创建数据万象-bucket"}},[t._v("#")]),t._v(" 2. 创建数据万象 Bucket")]),t._v(" "),s("p",[t._v("访问 "),s("a",{attrs:{href:"https://console.cloud.tencent.com/ci/bucket",target:"_blank",rel:"noopener noreferrer"}},[t._v("腾讯云数据万象控制台"),s("OutboundLink")],1),t._v(",创建一个 Bucket")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://postimg.aliavv.com/mbp/d15ya.png",alt:""}})]),t._v(" "),s("p",[s("img",{attrs:{src:"https://postimg.aliavv.com/mbp/hq5h0.png",alt:""}})]),t._v(" "),s("p",[t._v("创建时，选择「"),s("strong",[t._v("新建")]),t._v("」，并填写名称、所属地区等信息，具体配置如下。")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://postimg.aliavv.com/mbp/fn3tb.png",alt:""}})]),t._v(" "),s("p",[t._v("创建完成后，点击你刚刚创建的 Bucket，将项目根目录中 "),s("code",[t._v("avatar-outer")]),t._v(" 目录的文件上传到 Bucket 。具体效果如图。")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://postimg.aliavv.com/mbp/5fe20.png",alt:""}})]),t._v(" "),s("h3",{attrs:{id:"_3-配置云函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-配置云函数"}},[t._v("#")]),t._v(" 3. 配置云函数")]),t._v(" "),s("p",[t._v("接下来，我们来配置云函数。在项目根目录中的"),s("code",[t._v("cloudfunctions/image")]),t._v("目录下的 "),s("code",[t._v("config.js")]),t._v(" 中存放着需要配置的几个项目，具体如下")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("module"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("COS_SECRETID")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// COS 的 Secret ID ,从 https://console.cloud.tencent.com/capi 获取")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("COS_SECRETKEY")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//  COS 的 Secret Key， 从 https://console.cloud.tencent.com/capi 获取")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("DOMAIN")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 数据万象的域名 ，从 Bucket 详情页面获取")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("BUCKET")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Bucket 名称 ，你自己创建的 Bucket ，可以在 https://console.cloud.tencent.com/ci/bucket 找到")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("REGION")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 节点名，比如 ap-shanghai 、ap-guangzhou、ap-chengdu")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("获取方式如下：")]),t._v(" "),s("ul",[s("li",[s("p",[s("strong",[t._v("COS_SECRETID")]),t._v(" 与 "),s("strong",[t._v("COS_SECRETKEY")]),t._v(" 可以在 "),s("a",{attrs:{href:"https://console.cloud.tencent.com/cam/capi",target:"_blank",rel:"noopener noreferrer"}},[t._v("腾讯云访问密钥"),s("OutboundLink")],1),t._v(" 中获取。")])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("REGION")]),t._v(" 和 "),s("strong",[t._v("BUCKET")]),t._v(" 可以从你所创建的 Bucket 详情页获取。如果你所属地区是上海，则此项目填写 "),s("code",[t._v("ap-shanghai")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://postimg.aliavv.com/mbp/0ivlh.png",alt:""}})])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("DOMAIN")]),t._v(" 则可以从域名管理处获取。"),s("img",{attrs:{src:"https://postimg.aliavv.com/mbp/lqnse.png",alt:""}})])])]),t._v(" "),s("h3",{attrs:{id:"_4-部署云函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-部署云函数"}},[t._v("#")]),t._v(" 4. 部署云函数")]),t._v(" "),s("p",[t._v("配置完成后， 你需要上传，并部署云函数（选择云端安装依赖）。")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://postimg.aliavv.com/mbp/ty7hp.png",alt:""}})]),t._v(" "),s("h3",{attrs:{id:"_5-效果"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-效果"}},[t._v("#")]),t._v(" 5. 效果")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://postimg.aliavv.com/mbp/gt6ux.gif",alt:""}})]),t._v(" "),s("h3",{attrs:{id:"_6-faq"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-faq"}},[t._v("#")]),t._v(" 6. FAQ")]),t._v(" "),s("h4",{attrs:{id:"_6-1-如何替换风格或新增风格"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-如何替换风格或新增风格"}},[t._v("#")]),t._v(" 6.1 如何替换风格或新增风格")]),t._v(" "),s("p",[t._v("做好相应的边框，上传到数据万象的根目录，以"),s("code",[t._v("headX.png")]),t._v("来命名，其中 X 为 1，2，3，4等数字。")]),t._v(" "),s("h3",{attrs:{id:"课程完整源码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#课程完整源码"}},[t._v("#")]),t._v(" 课程完整源码")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/TencentCloudBase/Cloudbase-Examples/tree/master/miniprogram/tcb-demo-avatar",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/TencentCloudBase/Cloudbase-Examples/tree/master/miniprogram/tcb-demo-avatar"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"联系我们"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#联系我们"}},[t._v("#")]),t._v(" 联系我们")]),t._v(" "),s("p",[t._v("更多云开发使用技巧及 大前端Serverless 行业动态，扫码关注我们~")]),t._v(" "),s("p",{attrs:{align:"center"}},[s("img",{attrs:{src:"https://puui.qpic.cn/vupload/0/20190603_1559545575934_lettsbvkvdn.jpeg/0",width:"200px"}})])])}),[],!1,null,null,null);a.default=r.exports}}]);